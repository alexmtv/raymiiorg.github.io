
    <!DOCTYPE html>
    <html lang="en">
        <head>
        <title>Nagios - Hide all hosts in hostgroup - Raymii.org</title>
        <link href="/s/inc/css/light.css" rel="stylesheet" title="light" />
        <link href="/s/inc/css/dark.css" rel="alternate stylesheet" title="dark" />
        <script src="/s/inc/js/jquery-2.1.1.min.js"></script>
        <script src="/s/inc/js/bootstrap.3.2.0.min.js"></script>
        <script src="/s/inc/js/styleswitcher.js"></script>
        <script src="https://togetherjs.com/togetherjs-min.js"></script>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
        <link href="inc/img/icons/iphone.png" rel="apple-touch-icon" />
        <link href="inc/img/icons/ipad.png" rel="apple-touch-icon" sizes="76x76" />
        <link href="inc/img/icons/iphone-retina.png" rel="apple-touch-icon" sizes="120x120" />
        <link href="inc/img/icons/ipad-retina.png" rel="apple-touch-icon" sizes="152x152" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link type="application/opensearchdescription+xml" rel="search" href="/s/inc/opensearch.xml"/>
        <link rel="alternate" type="application/rss+xml" title="RSS Feed for Raymii.org" href="http://feeds.feedburner.com/Raymiiorg" />
    </head>
    <body>
        <a id="top-of-page"></a>
        <div class="container-fluid ">
            <div class="row">
                <div class="col-md-12">
                    <div class="col-md-3 col-sm-3 max-200">
                        <div class="well well-none"> 
                            <h3 class="headheader"><a href="https://raymii.org/s/">Raymii.org <img src="https://raymii.org/s/inc/img/resistor-50.png" alt="IEC Resistor logo"></a></h3>
                            <h6 class="headheader">Quis custodiet ipsos custodes?</h6>
                            <h6><a href="http://feeds.feedburner.com/Raymiiorg">RSS Feed</a></h6>
                        </div>
          

    
    <form role="search" action="https://encrypted.google.com/search">
        <div class="form-group">
          <input type="hidden" name="as_sitesearch" value="raymii.org">
          <input type="hidden" name="as_qdr" value="all">
          <input type="text" name="as_q" class="form-control" placeholder="Search">
        </div>
      </form>
      <div class="menu"><ul class="nav nav-pills nav-stacked"><li><a href="/s/index.html" class="special-menu">Home</a></li><li class='bottom-spacing'><a href="/s/everything.html" class="special-menu">All Items</a></li><li class="bottom-spacing special-menu"><a onclick="TogetherJS(this); return false;">TogetherJS</a></li><p></p><li><a href="/s/tags/bash.html" class="link">Bash</a></li><li><a href="/s/tags/monitoring.html" class="link">Monitoring</a></li><li><a href="/s/tags/ssl.html" class="link">SSL</a></li><li><a href="/s/tags/debian.html" class="link">Debian</a></li><li><a href="/s/tags/python.html" class="link">Python</a></li><li><a href="/s/tags/vpn.html" class="link">VPN</a></li><li><a href="/s/tags/ubuntu.html" class="link">Ubuntu</a></li><li><a href="/s/tags/nginx.html" class="link">nginx</a></li><li><a href="/s/tags/apache.html" class="link">Apache</a></li><li><a href="/s/tags/ansible.html" class="link">Ansible</a></li></ul>
                <ul class="navbar-collapse nav navbar-nav">
                <li class="dropdown">
                <a data-toggle="dropdown" class="dropdown-toggle" href="#">Style<b class="caret"></b></a>
                <ul class="dropdown-menu">
                <li><a href="#" onclick="setActiveStyleSheet('dark')">Dark</a></li>
                <li><a href="#" onclick="setActiveStyleSheet('light')">Light</a></li>
                </ul>
                </li>
                </ul>
                <br><br>
               <!-- advertisement start -->
                <a href="http://clients.inceptionhosting.com/aff.php?aff=083">Inception Hosting Affiliate Link</a><br />
                <a href="https://www.digitalocean.com/?refcode=7435ae6b8212">Digital Ocean  Affiliate Link</a><br />
                <script type="text/javascript"><!--
                google_ad_client = "ca-pub-7993642564731324";
                google_ad_slot = "9322003332";
                google_ad_width = 200;
                google_ad_height = 200;
                //-->
                </script>
                <script type="text/javascript"
                src="//pagead2.googlesyndication.com/pagead/show_ads.js">
                </script>    
                <!-- advertisement end -->
                </div>
           </div>  
           <div class="col-md-8 col-sm-8"> 
                <div class="inner">

           <h2 class='headheader'>Nagios - Hide all hosts in hostgroup</h2><ul class="breadcrumb"><li><a href="../index.html" class="link">Home</a></li><li><a href="../tutorials/index.html" class="link">Tutorials</a></li><li><a href="Nagios_-_Hide-entire-hostgroup.html" class="link">Nagios - Hide all hosts in hostgroup</a></li></ul><p><small>30-07-2013</small> | <small>Remy van Elst</small></p><div class='ad'>
                            <script type="text/javascript"><!--
                            google_ad_client = "ca-pub-7993642564731324";
                            /* voorartikel */
                            google_ad_slot = "6172324376";
                            google_ad_width = 728;
                            google_ad_height = 90;
                            //-->
                            </script>
                            <script type="text/javascript"
                            src="//pagead2.googlesyndication.com/pagead/show_ads.js">
                            </script>
                        </div><br><p>This tutorial shows you how to hide all hosts from a hostgroup in Nagios, including the webinterface and email/sms notifications. It does however monitors and checks all the hosts in the hostgroup, so when there are problems you can view the hosts in Nagios. This is usefull for example when you have a staging, preproduction and production environment monitored by the same Nagios host, or by a Nagios cluster, and want to hide all of staging, but do want to quickly view the status when developers complain about a node.</p>

<p>First you needble all notifications for the hostgroup of choice, in my case &quot;staging&quot;. Navigate in the Web interface to the Hostgroup Overview, Click on the second hostgroup link (like: staging <em>(staging)</em> ) and then select &quot;Disable notifications for all services in this hostgroup&quot;. On the next page, select the checkbox &quot;Disable for hosts too&quot; and click Commit. You could also go to the following url, replacing the values for your environment: <code>http(s)://&amp;lt;nagios-url.tld&amp;gt;/&amp;lt;cgi-folder&amp;gt;/cmd.cgi?cmd_type=64&amp;amp;hostgroup=&amp;lt;hostgroup-name&amp;gt;</code>.</p>

<p>Now navigate to the following page, again replacing the values for your environment: <code>http(s)://&amp;lt;nagios-url.tld&amp;gt;/&amp;lt;cgi-folder&amp;gt;/status.cgi?host=all&amp;amp;type=detail&amp;amp;servicestatustypes=28&amp;amp;serviceprops=8202</code>. This will open the view for the Service Status, with the properties <code>Not In Scheduled Downtime &amp;amp; Has Not Been Acknowledged &amp;amp; Notifications Enabled</code>. There are all your notifications, but not from the &quot;hidden&quot; hostgroup.</p>

<p>You can also change the HTML files (index.html or side.html) to either change the frame to go directly to this page, or add a link in the menu to this page.</p>

<h3>URL Properties</h3>

<p>You can fiddle with the Nagios URL properties, below are the values you can use, which you can also find in the Nagios Source Code, in <code>include/cgiutils.h</code>.</p>

<pre><code>/****************** HOST AND SERVICE FILTER PROPERTIES  *******************/

#define HOST_SCHEDULED_DOWNTIME         1
#define HOST_NO_SCHEDULED_DOWNTIME      2
#define HOST_STATE_ACKNOWLEDGED         4
#define HOST_STATE_UNACKNOWLEDGED       8
#define HOST_CHECKS_DISABLED            16
#define HOST_CHECKS_ENABLED             32
#define HOST_EVENT_HANDLER_DISABLED     64
#define HOST_EVENT_HANDLER_ENABLED      128
#define HOST_FLAP_DETECTION_DISABLED    256
#define HOST_FLAP_DETECTION_ENABLED     512
#define HOST_IS_FLAPPING                1024
#define HOST_IS_NOT_FLAPPING            2048
#define HOST_NOTIFICATIONS_DISABLED     4096
#define HOST_NOTIFICATIONS_ENABLED      8192
#define HOST_PASSIVE_CHECKS_DISABLED    16384
#define HOST_PASSIVE_CHECKS_ENABLED     32768
#define HOST_PASSIVE_CHECK              65536
#define HOST_ACTIVE_CHECK               131072


#define SERVICE_SCHEDULED_DOWNTIME      1
#define SERVICE_NO_SCHEDULED_DOWNTIME   2
#define SERVICE_STATE_ACKNOWLEDGED      4
#define SERVICE_STATE_UNACKNOWLEDGED    8
#define SERVICE_CHECKS_DISABLED         16
#define SERVICE_CHECKS_ENABLED          32
#define SERVICE_EVENT_HANDLER_DISABLED  64
#define SERVICE_EVENT_HANDLER_ENABLED   128
#define SERVICE_FLAP_DETECTION_ENABLED  256
#define SERVICE_FLAP_DETECTION_DISABLED 512
#define SERVICE_IS_FLAPPING             1024
#define SERVICE_IS_NOT_FLAPPING         2048
#define SERVICE_NOTIFICATIONS_DISABLED  4096
#define SERVICE_NOTIFICATIONS_ENABLED   8192
#define SERVICE_PASSIVE_CHECKS_DISABLED 16384
#define SERVICE_PASSIVE_CHECKS_ENABLED  32768
#define SERVICE_PASSIVE_CHECK           65536
#define SERVICE_ACTIVE_CHECK            131072
</code></pre>

<p>In our example above we added the 8192 with 8 and 2 to get 8202, so we have selected <code>SERVICE_NOTIFICATIONS_ENABLED</code>, <code>SERVICE_STATE_UNACKNOWLEDGED</code> and <code>SERVICE_NO_SCHEDULED_DOWNTIME</code>. </p>
<hr>Tags: <a href="../tags/dtap.html" class="link">dtap, </a><a href="../tags/monitoring.html" class="link">monitoring, </a><a href="../tags/nagios.html" class="link">nagios, </a><a href="../tags/staging.html" class="link">staging, </a><div class="footer">
                <hr>
                <p>Generated by <a href="/s/software/ingsoc.html">ingsoc</a> | 
                <a href="/s/software/Sparkling_Network.html">Cluster Status</a> | 
                <a href="/s/static/About.html">About</a><br />
                </div>
            </div>
        </div>
    </div>  
    </div>
    </div>
     
    <!-- Piwik --> 
    <script type="text/javascript">
    var pkBaseURL = (("https:" == document.location.protocol) ? "https://hosted-oswa.org/piwik/" : "http://hosted-oswa.org/piwik/");
    document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
    </script><script type="text/javascript">
    try {
    var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 1);
    piwikTracker.trackPageView();
    piwikTracker.enableLinkTracking();
    } catch( err ) {}
    </script><noscript><p><img src="http://hosted-oswa.org/piwik/piwik.php?idsite=1" style="border:0" alt="" /></p></noscript>
    <!-- End Piwik Tracking Code -->
    </body>
    </html>
    