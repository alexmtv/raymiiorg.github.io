
    <!DOCTYPE html>
    <html lang="en">
        <head>
        <title>Exchange 2007/2010 Autodiscovery DNS SRV record for BIND - Raymii.org</title>
        <link href="/s/inc/css/bootstrap.css" rel="stylesheet" />
        <link href="/s/inc/css/custom.css" rel="stylesheet" />
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
        <link href="inc/img/icons/iphone.png" rel="apple-touch-icon" />
        <link href="inc/img/icons/ipad.png" rel="apple-touch-icon" sizes="76x76" />
        <link href="inc/img/icons/iphone-retina.png" rel="apple-touch-icon" sizes="120x120" />
        <link href="inc/img/icons/ipad-retina.png" rel="apple-touch-icon" sizes="152x152" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="alternate" type="application/rss+xml" title="RSS Feed for Raymii.org" href="http://feeds.feedburner.com/Raymiiorg" />
    </head>
    <body>
        <a id="top-of-page"></a>
        <div class="container-fluid ">
        <div class="row">
        <div class="col-md-10 col-md-offset-1">
            <div class="col-md-3 well"> 
                <h3 class="headheader"><a href="https://raymii.org/s/">Raymii.org</a></h3>
                <h6>Quis custodiet ipsos custodes?</h6>
                <h6><a href="http://feeds.feedburner.com/Raymiiorg">RSS Feed</a></h6>
            </div>
            <div class="col-md-4 green-block">
                    <h3>Featured Items</h3>
    <a href="/s/tutorials/Ansible_Deployment_Framework.html" class="whitelink">Ansible Deployment Framework</a><br /><a href="/s/articles/Digital_Ocean_Sucks._Use_Digital_Ocean.html" class="whitelink">Digital Ocean Sucks. Use Digital Ocean</a><br /><a href="/s/tutorials/Gitlab_and_Active_Directory_LDAP_Authentication.html" class="whitelink">Gitlab and Active Directory LDAP Authentication</a><br /><a href="/s/articles/Small_Linux_PCs.html" class="whitelink">Small Linux PCs</a><br /><a href="/s/tutorials/Strong_SSL_Security_On_Apache2.html" class="whitelink">Strong SSL Security On Apache2</a><br /><a href="/s/tutorials/VMWare-ESXi-5-USB-installer.html" class="whitelink">VMWare ESXi 5 USB installer</a><br />
        </div>
        <div class="col-md-4 green-block">
                <h3>Featured Items</h3>
    <a href="/s/software/Bash_PHP_Server_Status_Monitor.html" class="whitelink">Bash PHP Server Status Monitor</a><br /><a href="/s/tutorials/IPSEC_L2TP_vpn_with_Ubuntu_12.04.html" class="whitelink">IPSEC L2TP vpn with Ubuntu 12.04</a><br /><a href="/s/software/Nopriv-IMAP-backup.html" class="whitelink">Nopriv IMAP backup</a><br /><a href="/s/articles/Set_up_your_own_truly_secure_encrypted_shared_storage_aka_Dropbox_clone.html" class="whitelink">Set up your own truly secure encrypted shared storage aka Dropbox clone</a><br /><a href="/s/tutorials/Strong_SSL_Security_On_nginx.html" class="whitelink">Strong SSL Security On nginx</a><br />
            
        </div>
    </div>
    
    </div>
    <div class="row-fluid">
    <div class="col-md-11 col-md-offset-1">
    

    <div class="col-md-3">
    <h3>Menu</h3><ul class="nav nav-pills nav-stacked"><li><a href="/s/" class="link">Home</a></li><li><a href="/s/static/Contact.html" class="link">Contact</a></li><li><a href="/s/static/Disclaimer.html" class="link">Disclaimer</a></li><li><a href="/s/static/Hosted_Piwik.html" class="link">Hosted Piwik</a></li><li><a href="/s/static/Sparkling_Network.html" class="link">Sparkling Network</a></li></ul><h3>Categories</h3><ul class="nav nav-pills nav-stacked"><li><a href="/s/articles" class="link">Articles</a></li><li><a href="/s/snippets" class="link">Snippets</a></li><li><a href="/s/software" class="link">Software</a></li><li><a href="/s/tutorials" class="link">Tutorials</a></li><li><a href="/s/everything.html" class="link">All Items</a></li></ul>
               <!-- advertisement start -->
                <hr class="alt2">
                <h3>Donate</h3>
                <ul><li><a href="http://clients.inceptionhosting.com/aff.php?aff=083">Inception Hosting VPS Affiliate Link</a></li>
                <li><a href="https://www.digitalocean.com/?refcode=7435ae6b8212">Digital Ocean VPS Affiliate</a></li></ul>
                <script id='flattrbtn'>(function(i){var f,s=document.getElementById(i);f=document.createElement('iframe');f.src='//api.flattr.com/button/view/?uid=Remy&url='+encodeURIComponent(document.URL);f.title='Flattr';f.height=62;f.width=55;f.style.borderWidth=0;s.parentNode.insertBefore(f,s);})('flattrbtn');</script><br />
                <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                <input type="hidden" name="cmd" value="_s-xclick">
                <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
                ">
                <input type="image" src="https://www.paypalobjects.com/en_US/NL/i/btn/btn_donateCC_LG.gif" name="submit" alt="PayPal - The safer, easier way to pay online!">
                <img alt="" src="https://www.paypalobjects.com/nl_NL/i/scr/pixel.gif" width="1" height="1">
                </form>
                <script type="text/javascript"><!--
                google_ad_client = "ca-pub-7993642564731324";
                google_ad_slot = "9322003332";
                google_ad_width = 200;
                google_ad_height = 200;
                //-->
                </script>
                <script type="text/javascript"
                src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
                </script>    
                <!-- advertisement end -->

           </div>  
           <div class="col-md-7"> 
                <div class="inner">


           <h2>Exchange 2007/2010 Autodiscovery DNS SRV record for BIND</h2><ul class="breadcrumb"><li><a href="../" class="link">Home</a></li><li><a href="../tutorials" class="link">Tutorials</a></li><li><a href="Exchange_2007_2010_Autodiscovery_DNS_SRV_record_for_BIND.html" class="link">Exchange 2007/2010 Autodiscovery DNS SRV record for BIND</a></li></ul><h6>Author: Remy Van Elst</h6><h6>Date: 09-05-2013</h6><br><p>Note: This article is targeted at *NIX administrators who have to manage Exchange installations, but are not Microsoft specialists. Therefore the BIND setup does not have an explanation, but the Exchange part has.</p>

<h3>What is Exchange Autodiscovery</h3>

<p>Exchange 2007/2010 Autodiscovery is the ability for Outlook to automatically configure itself to an Exchange 2007/2010 server. 
The main benefit is for remote users to use Outlook on the Internet as if it was connected on the LAN, this is called Outlook Anywhere or Outlook RPC over HTTP. 
This is very easily accomplished by having a specific DNS record available for the domain. </p>

<h4>How does Exchange Autodiscovery work?</h4>

<p>Outlook has a few ways to look for domain information when configuring itself based on the users email address. Lets say I want to set up Outlook as <code>john.doe@example.org</code>, but my site does not have the required Autodiscovery XML files set up. I enter that email address in Outlook, now Outlook do the following things to get its information:</p>

<ul>
<li>Autodiscover posts to https://example.org/Autodiscover/Autodiscover.xml. This fails.</li>
<li>Autodiscover posts to https://autodiscover.example.org/Autodiscover/Autodiscover.xml. This fails.</li>
<li>Autodiscover performs the following redirect check: GET http://autodiscover.example.org/Autodiscover/Autodiscover.xml. This fails.</li>
<li>Autodiscover uses DNS SRV lookup for <em>autodiscover.</em>tcp.example.org, and then &quot;mail.example.org&quot; is returned.</li>
<li>Outlook asks permission from the user to continue with Autodiscover to post to https://mail.example.org/autodiscover/autodiscover.xml.</li>
<li>Autodiscover&#39;s  POST request is successfully posted to https://mail.example.org/autodiscover/autodiscover.xml.</li>
</ul>

<p>There are various reasons not to set up the Autodiscovery XML on the main website or the Autodiscover.example.org. Mainly because it requires extra certificates, IP addresses and maintenance. Maybe a company does not have Windows servers to host their main website, or they don&#39;t want the hassle. In those cases the DNS SRV record works very nice.</p>

<h3>BIND DNS Record</h3>

<p>The following record line should be put in your zone config file (<code>/etc/bind/example.org</code>):</p>

<pre><code>; Exchange autodiscovery
_autodiscover._tcp                      IN      SRV 0 0 443 mail.example.org.
</code></pre>

<p>After a <code>rndc reload</code> you should be able to use the Autodiscovery service without problems. It is tested with BIND 9.8.</p>

<h3>Sources</h3>

<p><a href="http://technet.microsoft.com/en-us/library/bb332063.aspx">White Paper: Exchange 2007 Autodiscover Service</a><br>
<a href="http://support.microsoft.com/kb/940881/en-us">A new feature is available that enables Outlook 2007 to use DNS Service Location (SRV) records to locate the Exchange Autodiscover service</a>  </p>
<hr>Tags: <a href="../tags/bind.html" class="link">bind, </a><a href="../tags/dns.html" class="link">dns, </a><a href="../tags/exchange.html" class="link">exchange, </a><a href="../tags/microsoft.html" class="link">microsoft, </a><a href="../tags/nameserver.html" class="link">nameserver, </a><a href="../tags/outlook.html" class="link">outlook, </a><a href="../tags/outlook-anywhere.html" class="link">outlook-anywhere, </a><a href="../tags/outlook-rpc.html" class="link">outlook-rpc, </a><a href="../tags/owa.html" class="link">owa, </a><a href="../tags/server-2008.html" class="link">server-2008, </a><a href="../tags/srv.html" class="link">srv, </a><a href="../tags/windows.html" class="link">windows, </a><div class="footer">
                <hr />
                <br />
        
                <hr>
                <p>Generated by <a href="https://raymii.org/s/software/ingsoc.html">ingsoc</a>.<br />
                </div>
            </div>
        </div>
    </div>  
    </div>
    </div>
     
    <!-- Piwik --> 
    <script type="text/javascript">
    var pkBaseURL = (("https:" == document.location.protocol) ? "https://hosted-oswa.org/piwik/" : "http://hosted-oswa.org/piwik/");
    document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
    </script><script type="text/javascript">
    try {
    var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 1);
    piwikTracker.trackPageView();
    piwikTracker.enableLinkTracking();
    } catch( err ) {}
    </script><noscript><p><img src="http://hosted-oswa.org/piwik/piwik.php?idsite=1" style="border:0" alt="" /></p></noscript>
    <!-- End Piwik Tracking Code -->
    </body>
    </html>
    