
    <!DOCTYPE html>
    <html lang="en">
        <head>
        <title>Homepage - Raymii.org</title>
        <link href="/s/inc/css/custom-first.css" rel="stylesheet" />
        <link href="/s/inc/css/light.css" rel="stylesheet"  />
        <link href="/s/inc/css/custom.css" rel="stylesheet" title="custom" />
        <script src="/s//inc/js/toc.js" type="text/javascript"></script>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
        <link href="inc/img/icons/iphone.png" rel="apple-touch-icon" />
        <link href="inc/img/icons/ipad.png" rel="apple-touch-icon" sizes="76x76" />
        <link href="inc/img/icons/iphone-retina.png" rel="apple-touch-icon" sizes="120x120" />
        <link href="inc/img/icons/ipad-retina.png" rel="apple-touch-icon" sizes="152x152" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link type="application/opensearchdescription+xml" rel="search" href="/s/inc/opensearch.xml"/>
        <link rel="alternate" type="application/rss+xml" title="RSS Feed for Raymii.org" href="https://raymii.org/s/feed.xml" />
    </head>
    <body>
        <a id="top-of-page"></a>
        <div class="container-fluid ">
            <div class="row">
                <div class="col-md-12">
                    <div class="col-md-3 col-sm-3 max-200">
                        <div class="well well-none"> 
                            <h3 class="headheader"><a href="https://raymii.org/s/">Raymii.org <img src="/s/inc/img/resistor-50.png" alt="IEC Resistor logo"></a></h3>
                            <h6 class="headheader">Quis custodiet ipsos custodes?</h6>
                            <h6><a href="https://raymii.org/s/feed.xml">RSS Feed</a></h6>
                        </div>
          

    
    <form role="search" action="https://encrypted.google.com/search">
        <div class="form-group">
          <input type="hidden" name="as_sitesearch" value="raymii.org">
          <input type="hidden" name="as_qdr" value="all">
          <input type="text" name="as_q" class="form-control" placeholder="Search">
        </div>
      </form>
      <div class="menu"><ul class="nav nav-pills nav-stacked"><li><a href="./index.html" class="special-menu">Home</a></li><li class='bottom-spacing'><a href="./everything.html" class="special-menu">All Pages</a></li><li class='hideifsmall'><a href="./tags/bash.html" class="link">Bash</a></li><li class='hideifsmall'><a href="./tags/monitoring.html" class="link">Monitoring</a></li><li class='hideifsmall'><a href="./tags/ssl.html" class="link">SSL</a></li><li class='hideifsmall'><a href="./tags/debian.html" class="link">Debian</a></li><li class='hideifsmall'><a href="./tags/python.html" class="link">Python</a></li><li class='hideifsmall'><a href="./tags/vpn.html" class="link">VPN</a></li><li class='hideifsmall'><a href="./tags/ubuntu.html" class="link">Ubuntu</a></li><li class='hideifsmall'><a href="./tags/nginx.html" class="link">nginx</a></li><li class='hideifsmall'><a href="./tags/openstack.html" class="link">Openstack</a></li><li class='hideifsmall'><a href="./tags/ansible.html" class="link">Ansible</a></li></ul>            
               <!-- advertisement start -->
                <a href="http://clients.inceptionhosting.com/aff.php?aff=083">Inception Hosting Affiliate Link</a><br />
                <a href="https://www.digitalocean.com/?refcode=7435ae6b8212">Digital Ocean Affiliate Link, $10 free credit.</a><br />
                <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                <!-- Raymii-2 -->
                <ins class="adsbygoogle"
                     style="display:inline-block;width:200px;height:200px"
                     data-ad-client="ca-pub-7993642564731324"
                     data-ad-slot="9322003332"></ins>
                <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
                <!-- advertisement end -->
                </div>
           </div>  
           <div class="col-md-8 col-sm-8"> 
                <div class="inner">

           <h2>About</h2> <p>I'm a Linux/Unix sysadmin with experience in High Availability, scaling and clustering, security, (Open)SSL and general linux system administration. I've worked as a sysadmin (devops) for Certificate Authorities, Hospitals, Managed Service providers, Datacenters Development shops and large Internet Service providers. I currently work for an Openstack provider. I like to design, build and manage large, complex and high available systems. I like to work with configuration management tools and version control systems. Documentation, monitoring and backups are things I do first, not when the time allows it later.<br>This is my personal website, please do note that these articles do not reflect opinions or policies of any of my (previous) employers, only my personal one.</p><hr>
 
<h2>Latest Items</h2><h4 class="blogh3"><a href="tutorials/Ansible_-_create_OpenStack_servers_with_os_server.html">Ansible - Create OpenStack servers with Ansible 2.0 and the os_server module and a dynamic inventory</a></h4><small class="pull-left blogsmall">10-09-2016 | Remy van Elst</small><br /><p>I regularly deploy clusters and single servers on OpenStack with Ansible. However, Ansible 2.0 comes with new OpenStack modules my playbooks still used the old ones. I reserved some time to convert these playbooks to the new modules and ansible 2. This article shows a very simple example, it creates three servers in OpenStack and adds them to different hostgroups based on variables. For example, to create one loadbalancer and two appservers and run specific playbooks on those hosts based on their role.</p><a href="tutorials/Ansible_-_create_OpenStack_servers_with_os_server.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="tutorials/FST-01_firmware_upgrade_via_usb.html">FST-01 gnuk firmware update via USB</a></h4><small class="pull-left blogsmall">09-09-2016 | Remy van Elst</small><br /><p>The FST-01 (Flying Stone 1) is a small STM32F103TB based USB device designed to run gnuk and NeuG (gpg usb token or true random number generator). This guide shows you how to upgrade the firmware on the FST-01 so that you can enjoy newer gnuk features like 4096 bit RSA keys.</p><a href="tutorials/FST-01_firmware_upgrade_via_usb.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="snippets/Ansible_-_create_playbooks_and_role_file_and_folder_structure.html">Ansible - create playbooks and role file and folder structure</a></h4><small class="pull-left blogsmall">08-09-2016 | Remy van Elst</small><br /><p>Because I always forget which folders and files go into a playbook folder.</p><a href="snippets/Ansible_-_create_playbooks_and_role_file_and_folder_structure.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="blog/Reset_iptables_to_ACCEPT_all_-_backup_and_remove_all_existing_rules.html">Reset iptables to ACCEPT all (backup and remove all existing rules)</a></h4><small class="pull-left blogsmall">03-09-2016 | Remy van Elst</small><br /><p>Here's a small bash script that removes all iptables rules and sets up a default ACCEPT ALL state. Before the reset, it creates a backup of the current rules. I use this often to troubleshoot servers with networking issues. If you just blindly do an `iptables -F` you might lock yourself out of a server since the INPUT policy might be DROP.</p><a href="blog/Reset_iptables_to_ACCEPT_all_-_backup_and_remove_all_existing_rules.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="articles/Nitrokey_Start_Getting_started_guide.html">Nitrokey Start: Getting started guide (gnuk openpgp token)</a></h4><small class="pull-left blogsmall">14-08-2016 | Remy van Elst</small><br /><p>The Nitrokey Start is an OpenPGP USB token. It supports three 2048 bit GPG keys and is based on gnuk. Gnuk is an implementation of USB cryptographic token for GPG. Cryptographic token is a store of private keys and it computes cryptographic functions on the device. The main difference with other GPG cards like the Nitrokey Pro or the OpenPGP card is that this device does not use a smartcard. Whereas the other devices are basically USB smartcard readers, the Nitrokey Start has everything in it's firmware. This article is a getting started guide where I talk about the initial setup of the device, setting up a user PIN, an admin PIN and a reset code, generating the key and subkeys on the device, or loading external keys into the device and usage examples with GPG, OpenSSH and Thunderbird.</p><a href="articles/Nitrokey_Start_Getting_started_guide.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="articles/Nitrokey_HSM_web_cluster.html">Nitrokey HSM/SmartCard-HSM and Raspberry Pi web cluster</a></h4><small class="pull-left blogsmall">01-08-2016 | Remy van Elst</small><br /><p>This article sets up a Nitrokey HSM/SmartCard-HSM web cluster and has a lot of benchmarks. This specific HSM is not a fast HSM since it's very inexpensive and targeted at secure key storage, not performance. But, what if you do want more performance? Then you scale horizontally, just add some more HSM's and a loadbalancer in front. The cluster consists of Raspberry Pi's and Nitrokey HSM's and SmartCard-HSM's, softwarewise we use Apache, `mod_nss` and haproxy. We benchmark a small HTML file and a Wordpress site, with a regular 4096 bit RSA certificate without using the HSM's, a regular 2048 bit RSA certificate without using the HSM's, a 2048 bit RSA certificate in the HSM, a 1024 bit RSA certificate in the HSM and an EC prime256v1 key in the HSM. We do these benchmarks with the `OpenSC` module and with the `sc-hsm-embedded` module to see if that makes any difference.</p><a href="articles/Nitrokey_HSM_web_cluster.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="blog/Raspberry_Pi_Raspbian_Unattended_Upgrade_Jessie_to_Testing.html">Raspberry Pi unattended upgrade Raspbian to Debian Testing</a></h4><small class="pull-left blogsmall">27-07-2016 | Remy van Elst</small><br /><p>I'm working on a Nitrokey/SmartCard-HSM cluster article and therefore I needed three identical computers. The current version of Raspbian (2016-05-27) is based on Debian Jessie and comes with a version of OpenSC that is too old (0.14) to work with the Nitrokey/SmartCard-HSM. Since there is no Ubuntu 16.04 official image yet I decided to upgrade Raspbian to Debian Testing. Since I don't want to answer yes to any config file changes or service restarts I figured out how to do an unattended dist-upgrade.</p><a href="blog/Raspberry_Pi_Raspbian_Unattended_Upgrade_Jessie_to_Testing.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="articles/Storing_arbitraty_data_in_the_Nitrokey_HSM.html">Storing arbitraty data in the Nitrokey HSM/SmartCard-HSM with Elementary Files (EF)</a></h4><small class="pull-left blogsmall">17-07-2016 | Remy van Elst</small><br /><p>This is a guide which shows you how to write small elementary files to a nitrokey HSM. This can be usefull if you want to securely store data protected by a user pin. You can enter the wrong pin only three times, so offline brute forcing is out of the picture.</p><a href="articles/Storing_arbitraty_data_in_the_Nitrokey_HSM.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="articles/Use_the_Nitrokey_HSM_or_SmartCard-HSM_with_sc-hsm-embedded_mod_nss_and_Apache_read_only_module.html">Use the Nitrokey HSM or SmartCard-HSM with sc-hsm-embedded, mod_nss and Apache (read only module)</a></h4><small class="pull-left blogsmall">15-07-2016 | Remy van Elst</small><br /><p>This is a guide on using the Nitrokey HSM with sc-hsm-embedded module instead of the PC/SC daemon and OpenSC, mod_nss and the Apache webserver. This is an extension on the earlier guide, with new benchmarks. The sc-hsm-embedded module is not using a global lock like OpenSC, therefore providing better performance. The sc-hsm-embedded module is also a read only module, suitable for embedded systems or secure systems. The HSM allows you to store the private key for a SSL certificate inside the HSM (instead of on the filesystem), so that it can never leave the device and thus never be stolen. The guide covers the installation of the sc-hsm-embedded module, configuration of and benchmarks from Apache with the HSM and different key sizes.</p><a href="articles/Use_the_Nitrokey_HSM_or_SmartCard-HSM_with_sc-hsm-embedded_mod_nss_and_Apache_read_only_module.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="articles/Decrypt_NitroKey_HSM_or_SmartCard-HSM_private_keys.html">Decrypt/Extract Nitrokey HSM/SmartCard-HSM RSA private keys</a></h4><small class="pull-left blogsmall">13-07-2016 | Remy van Elst</small><br /><p>This is a guide which shows you how to extract private RSA key material from the Nitrokey HSM / SmartCard-HSM using the DKEK. This way you can get the private key out of the HSM in an unencrypted form. It does require access to the HSM device, all the DKEK share and their passwords. Do note that doing this defeats the entire purpose of a HSM, namely that you never have access to the keys. In the article I'll go over some explanation why this might be a feature you need and why it might be a case of security over convinience.</p><a href="articles/Decrypt_NitroKey_HSM_or_SmartCard-HSM_private_keys.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="articles/Nitrokey_HSM_in_Apache_with_mod_nss.html">Use the Nitrokey HSM or SmartCard-HSM with mod_nss and Apache</a></h4><small class="pull-left blogsmall">21-06-2016 | Remy van Elst</small><br /><p>This is a guide on using the Nitrokey HSM with mod_nss and the Apache webserver. The HSM allows you to store the private key for a SSL certificate inside the HSM (instead of on the filesystem), so that it can never leave the device and thus never be stolen. The guide covers the installation and configuration of mod_nss, coupling the HSM to NSS, generating the keys and configuring Apache, and last but not least we also do some benchmarks on Apache with the HSM and different key sizes.</p><a href="articles/Nitrokey_HSM_in_Apache_with_mod_nss.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="articles/Get_Started_With_The_Nitrokey_HSM.html">Get started with the Nitrokey HSM or SmartCard-HSM</a></h4><small class="pull-left blogsmall">19-06-2016 | Remy van Elst</small><br /><p>This is a guide to get started with the Nitrokey HSM (or SmartCard-HSM). It covers what a HSM is and what it can be used for. It also goes over software installation and initializing the device, including backups of the device and the keys. Finally we do some actual crypto operatons via pkcs11, OpenSSL, Apache and OpenSSH. We also cover usage in Thunderbird (S/MIME), Elementary Files (EF), a Web cluster with Apache and mod_nss and the decryption of the keys.</p><a href="articles/Get_Started_With_The_Nitrokey_HSM.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="tutorials/HTTP_Strict_Transport_Security_for_Apache_NGINX_and_Lighttpd.html">HTTP Strict Transport Security for Apache, NGINX and Lighttpd</a></h4><small class="pull-left blogsmall">17-06-2016 | Remy van Elst</small><br /><p>HTTP Strict Transport Security (often abbreviated as HSTS) is a security feature that lets a web site tell browsers that it should only be communicated with using HTTPS, instead of using HTTP. This tutorial will show you how to set up HSTS in Apache2, NGINX and Lighttpd.</p><a href="tutorials/HTTP_Strict_Transport_Security_for_Apache_NGINX_and_Lighttpd.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="articles/Toggling_in_a_simple_program_on_the_DEC_PDP-8_and_PiDP-8_using_the_switch_register.html">Toggling in a simple program DEC PDP-8 and PiDP-8 using the switch register</a></h4><small class="pull-left blogsmall">08-06-2016 | Remy van Elst</small><br /><p>In this guide I'll show you how to toggle in a simple program on the DEC PDP-8 or the PiDP-8, or in a front-panel simulator named BlinkenBone if you lack the hardware. I have a replica of the PDP-8/I (the PiDP-8) but lacked the actual knowledge on the front panel and switches to get started and do something cool. This guide has step by step instructons, with pictures, and basic explanation. After all, what is an expensive blinking light panel without fun stuff to toggle in?</p><a href="articles/Toggling_in_a_simple_program_on_the_DEC_PDP-8_and_PiDP-8_using_the_switch_register.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="tutorials/Ansible_-_Add_an_apt-repository_on_Debian_and_Ubuntu.html">Ansible - Add an apt-repository on Debian and Ubuntu</a></h4><small class="pull-left blogsmall">15-05-2016 | Remy van Elst</small><br /><p>This is a guide that shows you how to add an apt repository to Debian and Ubuntu using Ansible. It includes both the old way, when the apt modules only worked on Ubuntu, and the new way, now that the apt-modules also support Debian, plus some other tricks.</p><a href="tutorials/Ansible_-_Add_an_apt-repository_on_Debian_and_Ubuntu.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="blog/Migrating_personal_services_and_webapps.html">Migrating personal webapps and services</a></h4><small class="pull-left blogsmall">05-05-2016 | Remy van Elst</small><br /><p>Recently I've migrated some of my personal servers and services to new machines and newer operating system versions. I prefer to migrate instead of upgrading the OS for a number of reasons. I'll also talk about the migration process and some stuff to remember when migrating web applications and services.</p><a href="blog/Migrating_personal_services_and_webapps.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="tutorials/FreeBSD_10.3-release_Openstack_Image.html">Build a FreeBSD 10.3-release Openstack Image with bsd-cloudinit</a></h4><small class="pull-left blogsmall">27-04-2016 | Remy van Elst</small><br /><p>We are going to prepare a FreeBSD image for Openstack deployment. We do this by creating a FreeBSD 10.3-RELEASE instance, installing it and converting it using bsd-cloudinit. We'll use the CloudVPS public Openstack cloud for this. We'll be using the Openstack command line tools, like nova, cinder and glance.</p><a href="tutorials/FreeBSD_10.3-release_Openstack_Image.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="articles/IPv6_in_a_Docker_container_on_a_non-ipv6_network.html">IPv6 in a Docker container on a non-ipv6 network</a></h4><small class="pull-left blogsmall">12-04-2016 | Remy van Elst</small><br /><p>At work and at home my ISP's have native IPv6. I recently was at a clients location where they had no IPv6 at all and had to set up and demonstrate an application in a Docker container with IPv6 functionality. They said the had IPv6 but on location it appeared that IPv6 wasn't working. Since IPv6 was required for the demo the container needed a workaround. This article describes the workaround I used to add IPv6 to a Docker container on a non IPv6 network.</p><a href="articles/IPv6_in_a_Docker_container_on_a_non-ipv6_network.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="articles/Active_Directory_Exchange_Powershell_Snippets.html">Active Directory and Exchange Command Line Powershell</a></h4><small class="pull-left blogsmall">27-02-2016 | Remy van Elst</small><br /><p>This is a collection of Powershell snippets to install Active Directory, create a new Active Directory Domain, join an existing Active Directory domain and to install Microsoft Exchange 2013. The snippets were tested on Windows Server 2012 R2.</p><a href="articles/Active_Directory_Exchange_Powershell_Snippets.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="articles/Lets_Encrypt_Directadmin_Now_Built_In.html">Let's Encrypt with DirectAdmin, now built in!</a></h4><small class="pull-left blogsmall">24-02-2016 | Remy van Elst</small><br /><p>Let's Encrypt is a new certificate authority, recognized by all major browsers. They make it a breeze to set up TLS certificates for your web server. And for free! Let's Encrypt is supported by major players like Mozilla, Akamai, Cisco, the EFF, the Internet Security Research Group and others. Let's Encrypt provides free, automatic and secure certificates so that every website can be secured with an SSL certificate. This article shows you how to setup Let's Encrypt with the DirectAdmin web control panel. DirectAdmin now supports Lets Encrypt natively since 1.50, so no more ssh fiddling, just via the control panel, for all the users on the server.</p><a href="articles/Lets_Encrypt_Directadmin_Now_Built_In.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="blog/Recap_of_week_04_2016.html">Recap of week 04, 2016</a></h4><small class="pull-left blogsmall">30-01-2016 | Remy van Elst</small><br /><p>Recap of week 04 of 2016, covering open source and sysadmin related news, articles, guides, talks, discussions and fun stuff.</p><a href="blog/Recap_of_week_04_2016.html">Read more...</a><br /><p></p><h4><a href="everything.html" class="link">All Items</a></h4><div class="footer">
                <hr>
                <p>Generated by <a href="/s/software/ingsoc.html">ingsoc</a> | 
                <a href="/s/software/Sparkling_Network.html">Cluster Status</a> | 
                <a href="/s/static/About.html">About</a><br />
                </div>
            </div>
        </div>
    </div>  
    </div>
    </div>
     
    <!-- Piwik --> 
    <script type="text/javascript">
    var pkBaseURL = (("https:" == document.location.protocol) ? "https://hosted-oswa.org/piwik/" : "http://hosted-oswa.org/piwik/");
    document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
    </script><script type="text/javascript">
    try {
    var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 1);
    piwikTracker.trackPageView();
    piwikTracker.enableLinkTracking();
    } catch( err ) {}
    </script><noscript><p><img src="http://hosted-oswa.org/piwik/piwik.php?idsite=1" style="border:0" alt="" /></p></noscript>
    <!-- End Piwik Tracking Code -->
    </body>
    </html>
    