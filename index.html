
    <!DOCTYPE html>
    <html lang="en">
        <head>
        <title>Homepage - Raymii.org</title>
        <link href="/s/inc/css/custom-first.css" rel="stylesheet" />
        <link href="/s/inc/css/light.css" rel="stylesheet"  />
        <link href="/s/inc/css/custom.css" rel="stylesheet" title="custom" />
        <script src="/s//inc/js/toc.js" type="text/javascript"></script>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
        <link href="inc/img/icons/iphone.png" rel="apple-touch-icon" />
        <link href="inc/img/icons/ipad.png" rel="apple-touch-icon" sizes="76x76" />
        <link href="inc/img/icons/iphone-retina.png" rel="apple-touch-icon" sizes="120x120" />
        <link href="inc/img/icons/ipad-retina.png" rel="apple-touch-icon" sizes="152x152" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link type="application/opensearchdescription+xml" rel="search" href="/s/inc/opensearch.xml"/>
        <link rel="alternate" type="application/rss+xml" title="RSS Feed for Raymii.org" href="https://raymii.org/s/feed.xml" />
    </head>
    <body>
        <a id="top-of-page"></a>
        <div class="container-fluid ">
            <div class="row">
                <div class="col-md-12">
                    <div class="col-md-3 col-sm-3 max-200">
                        <div class="well well-none"> 
                            <h3 class="headheader"><a href="https://raymii.org/s/">Raymii.org <img src="/s/inc/img/resistor-50.png" alt="IEC Resistor logo"></a></h3>
                            <h6 class="headheader">Quis custodiet ipsos custodes?</h6>
                            <h6><a href="https://raymii.org/s/feed.xml">RSS Feed</a></h6>
                        </div>
          

    
    <form role="search" action="https://encrypted.google.com/search">
        <div class="form-group">
          <input type="hidden" name="as_sitesearch" value="raymii.org">
          <input type="hidden" name="as_qdr" value="all">
          <input type="text" name="as_q" class="form-control" placeholder="Search">
        </div>
      </form>
      <div class="menu"><ul class="nav nav-pills nav-stacked"><li><a href="./index.html" class="special-menu">Home</a></li><li class='bottom-spacing'><a href="./everything.html" class="special-menu">All Pages</a></li><li class='hideifsmall'><a href="./tags/bash.html" class="link">Bash</a></li><li class='hideifsmall'><a href="./tags/monitoring.html" class="link">Monitoring</a></li><li class='hideifsmall'><a href="./tags/ssl.html" class="link">SSL</a></li><li class='hideifsmall'><a href="./tags/debian.html" class="link">Debian</a></li><li class='hideifsmall'><a href="./tags/python.html" class="link">Python</a></li><li class='hideifsmall'><a href="./tags/vpn.html" class="link">VPN</a></li><li class='hideifsmall'><a href="./tags/ubuntu.html" class="link">Ubuntu</a></li><li class='hideifsmall'><a href="./tags/nginx.html" class="link">nginx</a></li><li class='hideifsmall'><a href="./tags/openstack.html" class="link">Openstack</a></li><li class='hideifsmall'><a href="./tags/ansible.html" class="link">Ansible</a></li></ul>            
               <!-- advertisement start -->
                <a href="http://clients.inceptionhosting.com/aff.php?aff=083">Inception Hosting Affiliate Link</a><br />
                <a href="https://www.digitalocean.com/?refcode=7435ae6b8212">Digital Ocean Affiliate Link, $10 free credit.</a><br />
                <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                <!-- Raymii-2 -->
                <ins class="adsbygoogle"
                     style="display:inline-block;width:200px;height:200px"
                     data-ad-client="ca-pub-7993642564731324"
                     data-ad-slot="9322003332"></ins>
                <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
                <!-- advertisement end -->
                </div>
           </div>  
           <div class="col-md-8 col-sm-8"> 
                <div class="inner">

           <h2>About</h2> <p>I'm a Linux/Unix sysadmin with experience in High Availability, scaling and clustering, security, (Open)SSL and general linux system administration. I've worked as a sysadmin (devops) for Certificate Authorities, Hospitals, Managed Service providers, Datacenters Development shops and large Internet Service providers. I currently work for an Openstack provider. I like to design, build and manage large, complex and high available systems. I like to work with configuration management tools and version control systems. Documentation, monitoring and backups are things I do first, not when the time allows it later.<br>This is my personal website, please do note that these articles do not reflect opinions or policies of any of my (previous) employers, only my personal one.</p><hr>
 
<h2>Latest Items</h2><h4 class="blogh3"><a href="tutorials/Backup_or_Sync_OpenStack_object_store_or_other_cloud_storage_with_rclone.html">Backup OpenStack object store or S3 with rclone</a></h4><small class="pull-left blogsmall">17-08-2017 | Remy van Elst</small><br /><p>This is a guide that shows you how to make backups of an object storage service like OpenStack swift or S3. Most object store services save data on multiple servers, but deleting a file also deletes it from all servers. Tools like rsync or scp are not compatible most of the time with these services, unless there is a proxy that translates the object store protocol to something like SFTP. rclone is an rsync-like, command line tool that syncs files and directories from cloud storage services like OpenStack swift, Amazon S3, Google cloud/drive, dropbox and more. By having a local backup of the contents of your cloud object store you can restore from accidental deletion or easily migrate between cloud providers. Syncing between cloud providers is also possible. It can also help to lower the RTO (recovery time objective) and backups are just always a good thing to have and test.</p><a href="tutorials/Backup_or_Sync_OpenStack_object_store_or_other_cloud_storage_with_rclone.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="articles/Openstack_Horizon_remove_the_loading_modal_with_uBlock_origin.html">Openstack Horizon, remove the loading modal with uBlock Origin</a></h4><small class="pull-left blogsmall">25-05-2017 | Remy van Elst</small><br /><p>The OpenStack dashboard, Horizon, is a great piece of software to manage your OpenStack resources via the web. However, it has, in my opinion, a very big usability issue. The loading dialog that appears after you click a link. It blocks the entire page and all other links. So, whenever I click, I have to wait three to five seconds before I can do anything else. Clicked the wrong menu item? Sucks to be you, here have some loading. Clicked a link and quickly want to open something in a new tab while the page is still loading? Nope, not today. It's not that browsers have had a function to show that a page is loading, no, of course, the loading indication that has been there forever is not good enough. Let's re-invent the wheel and significantly impact the user experience. With two rules in uBlock Origin this loading modal is removed and you can work normally again in Horizon</p><a href="articles/Openstack_Horizon_remove_the_loading_modal_with_uBlock_origin.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="articles/Basic_Website_load_testing_with_Tsung.html">Distributed load testing with Tsung</a></h4><small class="pull-left blogsmall">13-04-2017 | Remy van Elst</small><br /><p>At $dayjob I manage a large OpenStack Cloud. Next to that I also build high-performance and redundant clusters for customers. Think multiple datacenters, haproxy, galera or postgres or mysql replication, drbd with nfs or glusterfs and all sorts of software that can (and sometimes cannot) be clustered (redis, rabbitmq etc.). Our customers deploy their application on there and when one or a few components fail, their application stays up. Hypervisors, disks, switches, routers, all can fail without actual service downtime. Next to building such clusters, we also monitor and manage them. When we build such a cluster (fully automated with Ansible) we do a basic load test. We do this not for benchmarking or application flow testing, but to optimize the cluster components. Simple things like the mpm workers or threads in Apache or more advanced topics like MySQL or DRBD. Optimization there depends on the specifications of the servers used and the load patterns. Tsung is a high-performance but simple to configure and use piece of software written in Erlang. Configuration is done in a simple readable XML file. Tsung can be run distributed as well for large setups. It has good reporting and a live web interface for status and reports during a test.</p><a href="articles/Basic_Website_load_testing_with_Tsung.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="tutorials/Run_software_on_tty1_console_instead_of_login_getty.html">Run software on the tty1 console instead of getty login on Ubuntu 14.04 and 16.04</a></h4><small class="pull-left blogsmall">10-04-2017 | Remy van Elst</small><br /><p>Recently I wanted to change the default login prompt on the tty1 console on an OpenStack instance to automatically run htop. Instead of logging in via the console, I wanted it to start up htop right away and nothing else. Ubuntu 14.04 uses init and Ubuntu 16.04 uses systemd. Both ways are shown in this tutorial.</p><a href="tutorials/Run_software_on_tty1_console_instead_of_login_getty.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="snippets/Check_HTTP_status_code_for_a_page_on_all_DNS_records.html">Check HTTP status code for a page on all DNS records</a></h4><small class="pull-left blogsmall">09-04-2017 | Remy van Elst</small><br /><p>This is a small snippet using curl to check the status code of a given URL on all DNS records for a given domain. This site has a few A records in round robin mode, and sometimes the automatic deployment fails. Using this query I can check which server is the culprit and fix it manually.</p><a href="snippets/Check_HTTP_status_code_for_a_page_on_all_DNS_records.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="blog/Burn_in_testing_for_Hypervisor_and_Storage_servers.html">Burn in testing for new Hypervisor and Storage server hardware</a></h4><small class="pull-left blogsmall">08-04-2017 | Remy van Elst</small><br /><p>This article talks over how and why to do burn in testing on hypervisor and storage servers. I work at a fairly large cloud provider, where we have a lot of hardware. Think thousands of hardware servers and multiple ten thousand harddisks. It's all technology, so stuff breaks, and at our scale, stuff breaks often. One of my pet projects for the last period has been to automate the burn-in testing for our virtualisation servers and the storage machines. We run OpenStack and use KVM for the hypervisors and a combination of different storage technology for the volume storage servers. Before they go in production, they are tested for a few days with very intensive automated usage. We've noticed that they either fail then, or not. This saves us from having to migrate customers off of new production servers just a few days after they've gone live. The testing is of course all automated.</p><a href="blog/Burn_in_testing_for_Hypervisor_and_Storage_servers.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="articles/Openstack_Soft_Delete_-_recover_deleted_instances.html">Openstack Soft Delete - recover deleted instances</a></h4><small class="pull-left blogsmall">18-03-2017 | Remy van Elst</small><br /><p>This article contains both an end user and OpenStack administrator guide to set up and use soft_delete with OpenStack Nova. If an instance is deleted with nova delete, it's gone right away. If soft_delete is enabled, it will be queued for deletion for a set amount of time, allowing end-users and administrators to restore the instance with the nova restore command. This can save your ass (or an end-users bottom) if the wrong instance is removed. Setup is simple, just one variable in nova.conf. There are some caveats we'll also discuss here. </p><a href="articles/Openstack_Soft_Delete_-_recover_deleted_instances.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="articles/Running_WPS-8_(Word_Processing_System)_on_the_DEC(mate)_PDP-8i_and_SIMH.html">Running WPS-8 (Word Processing System) on the DEC(mate) PDP-8i and SIMH</a></h4><small class="pull-left blogsmall">09-03-2017 | Remy van Elst</small><br /><p>This article covers running WPS-8 on a modern day emulator. WPS-8 is a word processor by DEC for the PDP-8. The PDP-8 was a very populair 12-bit minicomputer from 1965. WPS-8 was released around 1970, it came bundled with DEC's VT78 terminal. This terminal bundle was also known as the DECmate. This article covers the setup of the emulator, simh with the correct disk images and terminal settings. It covers basic usage and the features of WPS-8 and it has a section on key remapping. The early keyboards used with WPS-8 have small but incompatible differences with recent keyboards, but nothing that xterm remapping can't fix. </p><a href="articles/Running_WPS-8_(Word_Processing_System)_on_the_DEC(mate)_PDP-8i_and_SIMH.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="snippets/IPv6_Traceroute_to_Smokeping_Target_Config.html">Traceroute IPv6 to Smokeping Target config</a></h4><small class="pull-left blogsmall">05-03-2017 | Remy van Elst</small><br /><p>This little one-liner converts the output of traceroute for IPv6 to Smokeping Target output. I had only setup my smokepings for IPv4. Recently we had an issue were network config was borked and the whole IPv4 network was not announced via BGP anymore. I was at home troubleshooting, but finding nothing since I have native IPv6 and that part still worked. My Smokeping did show loss, and that explicitly uses IPv4. That helped with the debugging a lot. I have a [IPv4][4] version of this article as well.</p><a href="snippets/IPv6_Traceroute_to_Smokeping_Target_Config.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="tutorials/Ansible_access_other_groups_group_vars.html">Ansible: access group vars for groups the current host is not a member of</a></h4><small class="pull-left blogsmall">27-01-2017 | Remy van Elst</small><br /><p>This guide shows you how to access group variables for a group the current host is not a member of. In Ansible you can access other host variables using `hostvars['hostname']` but not group variables. The way described here is workable, but do I consider it a dirty hack. So why did I need this? I have a setup where ssl is offloaded by haproxy servers, but the virtual hosts and ssl configuration are defined in Apache servers. The loadbalancers and appservers are two different hostgroups, the ssl settings are in the appserver group_vars, which the hosts in the loadbalancer group need to access. The best way to do this is change the haproxy playbooks and configuration and define the certificates there, but in this specific case that wasn't a workable solution. Editing two yaml files (one for the appservers and one for the loadbalancers) was not an option in this situation.</p><a href="tutorials/Ansible_access_other_groups_group_vars.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="software/Sparkling_Network.html">Sparkling Network</a></h4><small class="pull-left blogsmall">12-01-2017 | Remy van Elst</small><br /><p>This is an overview of all the servers in the Sparkling Network, mostly as an overview for myself, but it might be interesting for others. It also has a status overview of the nodes.</p><a href="software/Sparkling_Network.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="snippets/haproxy_restrict_specific_urls_to_specific_ip_addresses.html">haproxy: restrict specific URLs to specific IP addresses</a></h4><small class="pull-left blogsmall">09-01-2017 | Remy van Elst</small><br /><p>This snippet shows you how to use haproxy to restrict certain URLs to certain IP addresses. For example, to make sure your admin interface can only be accessed from your company IP address.</p><a href="snippets/haproxy_restrict_specific_urls_to_specific_ip_addresses.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="tutorials/OpenStack_Quick_and_automatic_instance_snapshot_backups.html">OpenStack: Quick and automatic instance snapshot backup and restore (and before an apt upgrade) with nova backup</a></h4><small class="pull-left blogsmall">20-12-2016 | Remy van Elst</small><br /><p>This is a guide that shows you how to create OpenStack instance snapshots automatically, quick and easy. This allows you to create a full backup of the entire instance. This guide has a script that makes creating snapshots from an OpenStack VM automatic via cron. The script uses the `nova backup` function, therefore it also has retention and rotation of the backups. It also features an option to create a snapshot before every apt action, upgrade/install/remove. This way, you can easily restore from the snapshot when something goes wrong after an upgrade. Snapshots are very usefull to restore the entire instance to an earlier state. Do note that this is not the same as a file based backup, you can't select a few files to restore, it's all or nothing.</p><a href="tutorials/OpenStack_Quick_and_automatic_instance_snapshot_backups.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="articles/Creating_an_OS8_RK05_system_disk_from_RX01_floppies_for_the_PDP-8_with_SIMH.html">Create a PDP-8 OS8 RK05 system disk from RX01 floppies with SIMH (and get text files in and out of the PDP-8)</a></h4><small class="pull-left blogsmall">07-12-2016 | Remy van Elst</small><br /><p>This guide shows you how to build an RK05 bootable system disk with OS/8 on it for the PDP-8, in the SIMH emulator. We will use two RX01 floppies as the build source, copy over all the files and set up the LPT printer and the PTR/PIP paper tape punch/readers. As an added bonus the article also shows you how to get text files in and out of the PDP-8 sytem using the printer and papertape reader / puncher.</p><a href="articles/Creating_an_OS8_RK05_system_disk_from_RX01_floppies_for_the_PDP-8_with_SIMH.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="blog/Overflow_the_Investigatory_Powers_Bill.html">Overflow the Investigatory Powers Bill!</a></h4><small class="pull-left blogsmall">24-11-2016 | Remy van Elst</small><br /><p>I read an article on The Register regarding the Investigatory Powers Bill. The part were ISP's are forced to save their customers browsing history for a year is the most horryfing part, just as that whole bill. Let's hope the political process and organizations like the Open Rights Group and the EFF have enough lobbying power to change people's minds.	If that fails, then we can all try to overflow the logging. Just as some people put keywords in their mail signatures to trigger automatic filters and generate noise, we should all generate as much data and noise as possible. This way the information they do gather will not be usefull, it will take too much time, storage and effort to process it and thus the project will fail. 2 years ago I wrote a small Python script which browser the web for you, all the time. Running that on one or two Raspberry Pi's or other small low power computers 24/7 will generate a lot of noise in the logging and filtering.</p><a href="blog/Overflow_the_Investigatory_Powers_Bill.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="tutorials/FreeBSD_11.0-release_Openstack_Image.html">Build a FreeBSD 11.0-release Openstack Image with bsd-cloudinit</a></h4><small class="pull-left blogsmall">14-11-2016 | Remy van Elst</small><br /><p>We are going to prepare a FreeBSD image for Openstack deployment. We do this by creating a FreeBSD 11.0-RELEASE instance, installing it and converting it using bsd-cloudinit. We'll use the CloudVPS public Openstack cloud for this. We'll be using the Openstack command line tools, like nova, cinder and glance. A FreeBSD image with Cloud Init will automatically resize the disk to the size of the flavor and it will add your SSH key right at boot. You can use Cloud Config to execute a script at first boott, for example, to bootstrap your system into Puppet or Ansible. If you use Ansible to manage OpenStack instances you can integrate it without manually logging in or doing anything manually.</p><a href="tutorials/FreeBSD_11.0-release_Openstack_Image.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="tutorials/Nitrokey_gnuk_firmware_update_via_DFU.html">Nitrokey gnuk firmware update via DFU</a></h4><small class="pull-left blogsmall">11-10-2016 | Remy van Elst</small><br /><p>The Nitrokey (start, all of them) can be upgraded to a newer GNUK firmware. However, this can only be done via ST Link or DFU, if you use the Gnuk USB firmware upgrade you will brick the device. This guide shows you how to attach a DFU adapter and how to flash firmware to a Nitrokey, both for upgrading or unbricking an USB upgraded one.</p><a href="tutorials/Nitrokey_gnuk_firmware_update_via_DFU.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="blog/MySQL_restore_after_a_crash_and_disk_issues.html">MySQL restore after a crash and disk issues</a></h4><small class="pull-left blogsmall">10-10-2016 | Remy van Elst</small><br /><p>Recently I had to restore a MySQL server. The hardware had issues with the storage and required some FSCK's, disk replacements and a lot of RAID and LVM love to get working again. Which was the easy part. MySQL was a bit harder to fix. This post describes the proces I used to get MySQL working again with a recent backup. In this case it was a replicated setup so the client had no actual downtime. </p><a href="blog/MySQL_restore_after_a_crash_and_disk_issues.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="snippets/Firefox_History_Stats_with_Bash.html">Firefox History stats with Bash</a></h4><small class="pull-left blogsmall">25-09-2016 | Remy van Elst</small><br /><p>This is a small script to gather some statistics from your Firefox history. First we use sqlite3 to parse the Firefox history database and get the last three months, then we remove all the IP addresses and port numbers and finally we sort and count it.</p><a href="snippets/Firefox_History_Stats_with_Bash.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="snippets/Create_etc_shadow_crypted_password_entries.html">Create /etc/shadow crypted password entries</a></h4><small class="pull-left blogsmall">23-09-2016 | Remy van Elst</small><br /><p>These small snippets create password strings you can put in /etc/shadow when you need to reset a password on a system.</p><a href="snippets/Create_etc_shadow_crypted_password_entries.html">Read more...</a><br /><p></p><h4 class="blogh3"><a href="blog/Mouse_movement_via_the_keyboard_with_xdotool_and_xbindkeys.html">Mouse movement via the keyboard with xdotool and xbindkeys</a></h4><small class="pull-left blogsmall">13-09-2016 | Remy van Elst</small><br /><p>I had a request from a friend to figure out how she could use her mouse via the keyboard. Normally you would use Mouse Keys, but she uses a kinesis freestyle2 keyboard which has no numpad. By using xbindkeys together with xdotool we can use our own key combination to move the mouse keys, in any window manager. </p><a href="blog/Mouse_movement_via_the_keyboard_with_xdotool_and_xbindkeys.html">Read more...</a><br /><p></p><h4><a href="everything.html" class="link">All Items</a></h4><div class="footer">
                <hr>
                <p>Generated by <a href="/s/software/ingsoc.html">ingsoc</a> | 
                <a href="/s/software/Sparkling_Network.html">Cluster Status</a> | 
                <a href="/s/static/About.html">About</a><br />
                </div>
            </div>
        </div>
    </div>  
    </div>
    </div>
     
    <!-- Piwik --> 
    <script type="text/javascript">
    var pkBaseURL = (("https:" == document.location.protocol) ? "https://hosted-oswa.org/piwik/" : "http://hosted-oswa.org/piwik/");
    document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
    </script><script type="text/javascript">
    try {
    var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 1);
    piwikTracker.trackPageView();
    piwikTracker.enableLinkTracking();
    } catch( err ) {}
    </script><noscript><p><img src="http://hosted-oswa.org/piwik/piwik.php?idsite=1" style="border:0" alt="" /></p></noscript>
    <!-- End Piwik Tracking Code -->
    </body>
    </html>
    