
    <!DOCTYPE html>
    <html lang="en">
        <head>
        <title>3D modeling a real world object in OpenSCAD - Raymii.org</title>
        <link href="/s/inc/css/custom-first.css" rel="stylesheet" />
        <link href="/s/inc/css/light.css" rel="stylesheet"  />
        <link href="/s/inc/css/custom.css" rel="stylesheet" title="custom" />
        <script src="/s//inc/js/toc.js" type="text/javascript"></script>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
        <link href="inc/img/icons/iphone.png" rel="apple-touch-icon" />
        <link href="inc/img/icons/ipad.png" rel="apple-touch-icon" sizes="76x76" />
        <link href="inc/img/icons/iphone-retina.png" rel="apple-touch-icon" sizes="120x120" />
        <link href="inc/img/icons/ipad-retina.png" rel="apple-touch-icon" sizes="152x152" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link type="application/opensearchdescription+xml" rel="search" href="/s/inc/opensearch.xml"/>
        <link rel="alternate" type="application/rss+xml" title="RSS Feed for Raymii.org" href="https://raymii.org/s/feed.xml" />
    </head>
    <body>
        <a id="top-of-page"></a>
        <div class="container-fluid ">
            <div class="row">
                <div class="col-md-12">
                    <div class="col-md-3 col-sm-3 max-200">
                        <div class="well well-none"> 
                            <h3 class="headheader"><a href="https://raymii.org/s/">Raymii.org <img src="/s/inc/img/resistor-50.png" alt="IEC Resistor logo"></a></h3>
                            <h6 class="headheader">Quis custodiet ipsos custodes?</h6>
                            <h6><a href="https://raymii.org/s/feed.xml">RSS Feed</a></h6>
                        </div>
          

    
    <form role="search" action="https://encrypted.google.com/search">
        <div class="form-group">
          <input type="hidden" name="as_sitesearch" value="raymii.org">
          <input type="hidden" name="as_qdr" value="all">
          <input type="text" name="as_q" class="form-control" placeholder="Search">
        </div>
      </form>
      <div class="menu"><ul class="nav nav-pills nav-stacked"><li><a href="/s/index.html" class="special-menu">Home</a></li><li class='bottom-spacing'><a href="/s/everything.html" class="special-menu">All Pages</a></li><li class='hideifsmall'><a href="/s/tags/bash.html" class="link">Bash</a></li><li class='hideifsmall'><a href="/s/tags/monitoring.html" class="link">Monitoring</a></li><li class='hideifsmall'><a href="/s/tags/ssl.html" class="link">SSL</a></li><li class='hideifsmall'><a href="/s/tags/debian.html" class="link">Debian</a></li><li class='hideifsmall'><a href="/s/tags/python.html" class="link">Python</a></li><li class='hideifsmall'><a href="/s/tags/vpn.html" class="link">VPN</a></li><li class='hideifsmall'><a href="/s/tags/ubuntu.html" class="link">Ubuntu</a></li><li class='hideifsmall'><a href="/s/tags/nginx.html" class="link">nginx</a></li><li class='hideifsmall'><a href="/s/tags/openstack.html" class="link">Openstack</a></li><li class='hideifsmall'><a href="/s/tags/ansible.html" class="link">Ansible</a></li></ul>            
               <!-- advertisement start -->
                <a href="http://clients.inceptionhosting.com/aff.php?aff=083">Inception Hosting Affiliate Link</a><br />
                <a href="https://www.digitalocean.com/?refcode=7435ae6b8212">Digital Ocean Affiliate Link, $10 free credit.</a><br />
                <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                <!-- Raymii-2 -->
                <ins class="adsbygoogle"
                     style="display:inline-block;width:200px;height:200px"
                     data-ad-client="ca-pub-7993642564731324"
                     data-ad-slot="9322003332"></ins>
                <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
                <!-- advertisement end -->
                </div>
           </div>  
           <div class="col-md-8 col-sm-8"> 
                <div class="inner">

           <h2 class='headheader'>3D modeling a real world object in OpenSCAD</h2><ul class="breadcrumb"><li><a href="../index.html" class="link">Home</a></li><li><a href="../articles/index.html" class="link">Articles</a></li><li><a href="3D_modelling_a_real_world_object_in_OpenSCAD.html" class="link">3D modeling a real world object in OpenSCAD</a></li></ul><p><small>02-03-2014</small> | <small>Remy van Elst</small></p><div class='ad'>
                            <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                            <!-- voorartikel -->
                            <ins class="adsbygoogle"
                                 style="display:inline-block;width:728px;height:90px"
                                 data-ad-client="ca-pub-7993642564731324"
                                 data-ad-slot="6172324376"></ins>
                            <script>
                            (adsbygoogle = window.adsbygoogle || []).push({});
                            </script>
                        </div><br><div id="toc"><h3>Table of Contents</h3></div><hr><div id="contents"><p>This article shows you how I built a real world object in OpenSCAD and how I got it 3D printed. OpenSCAD is a Solid 3D modeling based on the Computational Geometry Algorithms Library. It is not like Blender, AutoCAD or Maya, who allow you to visually create and manipulate something. OpenSCAD allows you to program the entire thing. Want a cube? Type cube([10,10,10]) and you have a cube. I have no previous experience in 3D modeling or OpenSCAD, however, in about three hours I had my thing ready made.</p>

<h3>The Thing</h3>

<p><img src="https://raymii.org/s/inc/img/3d/sleutel.png" alt="sleutel" /></p>

<p>This is a key used by the Dutch Railways (NS) staff. A <a href="http://en.wikipedia.org/wiki/Conductor_%28transportation%29">conductor</a> uses it to close all the doors when a train is about to depart. They put the key in a panel like this:  </p>

<p><img src="https://raymii.org/s/inc/img/3d/deurbedieningstableau.jpg" alt="deurbedieningstableau" /></p>

<p>turn the key to the left which closes all the other doors, then press the blue button which closes their door and sends a signal to the train driver that he is allowed to drive away.</p>

<p>I&#39;ve got multiple train drivers and conductors in my family so I have access to these keys. Therefore it was a nice and simple &quot;thing&quot; to get started with.</p>

<p><img src="https://raymii.org/s/inc/img/3d/full-key.png" alt="end result" />
This is a picture of the end result. The full key in top, right, left and diagonal viewport. </p>

<p>The <a href="https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language">OpenSCAD Manual</a> was a great help to me. The <a href="http://hackaday.com/2013/12/11/3d-printering-making-a-thing-with-openscad/">making a Thing with OpenSCAD</a> from Hack a Day was what got me started with OpenSCAD.</p>

<h3>The left piece</h3>

<p>I started with the left piece because it is a very simple cylinder with a cube extruded. The radius of the cylinder is 7.5 mm, the height is 35mm.</p>

<p>OpenSCAD has no notice of units like centimeters, millimeters or inches. If you define a <code>cube([10,10,10])</code> you don&#39;t get a cube of 10 by 10 by 10 cm or mm, you just get a cube of 10 by 10 by 10. It is up to the 3D printing company to decide what those units mean. Shapeways lets you select it when you upload the model, in the order email to my <a href="http://ridix.nl">3D printing company</a> I state that I want the units to be mm. </p>

<pre><code>$fn=100

module left_piece() {
    difference() {
        // cylinder diameter is 15mm
        cylinder(h=35,r=7.5);
        // inner cube width and height is 9mm
        cube(size=[9,9,20], center=true );
    }
}
left_piece();
</code></pre>

<p><img src="https://raymii.org/s/inc/img/3d/left-1.png" alt="left1" /></p>

<p>Now press <code>F5</code> and see your first part of the key be created. We created a cylinder with a height of 35 and a radius of 7.5. The <code>difference</code> operation, as you might expect, substracts the cube from the cylinder, this giving us a cylinder with a little square hole in it. As you also noticed, line comments start with <code>//</code>.</p>

<p>The <code>$fn=100</code> is the resolution of sphere and cylinder objects. Put it at the top of your OpenSCAD document.</p>

<p>As you might have noticed on the photo, the left piece also has a little hole in it. This is used to put a key ring in. Lets add that hole. We&#39;ll have to to substract a small cylinder from the cylinder. However, this time we need the hole to be rotated about 90 degrees, otherwise it would be from the top to the bottom. We don&#39;t want that, we want it to go from left to right. We also want it to be a bit on top, not like the cube which is on the bottom.</p>

<p>We therefore use two operations, First the <code>translate</code> operation, which moves objects in the 3d space by the given axis. Then the <code>rotate</code> operation, which rotates objects:</p>

<pre><code>module left_piece() {
    difference() {
        // cylinder diameter is 15mm
        cylinder(h=35,r=7.5);
        // inner cube width and height is 9mm
        cube([9,9,20], true );
        translate([0,15,30]) {
            rotate([90,0,0]) {
                cylinder(h=30, r=2.5);
            }
        }
    }
}

left_piece();
</code></pre>

<p><img src="https://raymii.org/s/inc/img/3d/left-2.png" alt="left2" /></p>

<p>We first create a cylinder with a height of 30 (which should be more than long enough to provide a full hole in our key piece) and a radius of 2.5. This radius was measured on the original key. Then we move it by 15 on the Y-axis and by 30 on the Z-axis. </p>

<p>If you want to get a more visual understanding of what is happening here, try to change the <code>difference()</code> operation at the top to <code>union()</code>. Instead of substracting the primitives from each other, this combines all the objects. It looks like this:</p>

<p><img src="https://raymii.org/s/inc/img/3d/left-3.png" alt="left3" /></p>

<p>This is our full left piece right now. Leave the code up there, except for the last line <code>left_piece();</code>. We are going to work on our right piece, and will put it all together later on.</p>

<h3>Right piece</h3>

<p>The right piece is also quite simple. OpenSCAD has the <code>hull</code> operation, which combines one or more shapes together to a solid. We are going to place a small square and a larger square and connect those together:</p>

<pre><code>module right_piece(){
    hull() {
        // from heart of bottom_piece to end of right_piece = 35mm
        translate([0,0,28]) {
                cube(size=[5,5,1], center=true);
        }
        // right_piece thickness at begin right_piece is 10mm
        // right_piece thickness at end is 5mm
        cube(size=[10,10,1], center=true);
    }
}

right_piece();
</code></pre>

<p><img src="https://raymii.org/s/inc/img/3d/right-1.png" alt="image" /></p>

<p>If you want to see more visually what the <code>hull</code> operation does, try changing it again to <code>union</code>. It then looks like this:</p>

<p><img src="https://raymii.org/s/inc/img/3d/right-2.png" alt="image" /></p>

<p>We are done with the right piece right now. Later on we will build a connecting piece which will hold the right, left and bottom piece together. Remove the last <code>right_piece();</code> line and move on to the bottom part.</p>

<h3>Bottom piece</h3>

<p>The bottom piece consists out of a few things, a cylinder with a triangle taken out. There are two large holes and one smaller hole, plus a cube at the end of the cylinder. Let&#39;s start with the cylinder and the triangle.</p>

<pre><code>module bottom_piece() {
    difference() {
        cylinder(h=50,r=6);
        translate([-0,0,30]) {
            linear_extrude(height = 51, center = true, convexity = 10) {
                polygon(points=[[-4,-2],
                         [4,-2],
                         [0,5]],
                        paths=[[0,1,2]]);
            }
        } 
    }
}

bottom_piece();
</code></pre>

<p><img src="https://raymii.org/s/inc/img/3d/bottom-1.png" alt="image" /></p>

<p>First we create a cylinder with a height of 50 and a radius of 6. We then create a triangle using the <code>polygon</code> primitive. The <code>points</code> specify the corner points of the triangle, which are measured up with a ruler. </p>

<p>Let&#39;s add the little cube at the bottom. It does not need to be in the above <code>difference</code> operation, it just needs to be placed at the bottom of the cylinder. We&#39;ll create a small 3x4x3 cube and use <code>translate</code> to place it at the bottom of the piece:</p>

<pre><code>module bottom_piece() {
    difference() {
        cylinder(h=50,r1=6,r2=6);
        translate([-0,0,30]) {
            linear_extrude(height = 51, center = true, convexity = 10) {
                polygon(points=[[-4,-2],
                         [4,-2],
                         [0,5]],
                        paths=[[0,1,2]]);
            }
        }
    }
    translate([0,-7,48.5]) {
        cube(size=[3,4,3], center=true);
    }
}

bottom_piece();
</code></pre>

<p><img src="https://raymii.org/s/inc/img/3d/bottom-2.png" alt="image" /></p>

<p>We now just need to add the three holes. Because we have two of the same holes, we are going to make a module of the holes. That means we make a &quot;solid&quot; hole module and difference it with the cylinder.</p>

<p>The <code>short_hole_in_bottom_piece</code> is a simple cylinder rotated to the right position:</p>

<pre><code>module short_hole_in_bottom_piece() {   
    translate([-6,0,5]) {
        rotate([0,90,0]) {
            cylinder(h=12,r=1.5);
        }
    }
}
</code></pre>

<p><img src="https://raymii.org/s/inc/img/3d/bottom-3.png" alt="image" /></p>

<p>You should be able to understand what we are doing in the above code by now.</p>

<p>The <code>long_hole_in_bottom_piece</code> will consist out of two <code>short_hole_in_bottom_piece</code>&#39;s with a <code>hull</code> operation:</p>

<pre><code>module long_hole_in_bottom_piece() {
    difference() {
        translate([0,0,-5]) {
            short_hole_in_bottom_piece();
        }
        short_hole_in_bottom_piece();
    }
}
</code></pre>

<p><img src="https://raymii.org/s/inc/img/3d/bottom-4.png" alt="image" /></p>

<p>The first translate is required to place the cylinder above the other for the <code>hull</code> operation. If we change the <code>hull</code> operation to a <code>union</code> like we did before, it looks like this:</p>

<p><img src="https://raymii.org/s/inc/img/3d/bottom-5.png" alt="image" /></p>

<p>We&#39;ll use a few translate operations to place the holes in the earlier created <code>difference</code> operation:</p>

<pre><code>module bottom_piece() {
    difference() {
        cylinder(h=50,r1=6,r2=6);
        translate([0,0,9]) {
            long_hole_in_bottom_piece();
        }
        translate([0,0,-2]) {
            short_hole_in_bottom_piece();
        }
        translate([0,0,24]) {
            long_hole_in_bottom_piece();
        }
        translate([-0,0,30]) {
            linear_extrude(height = 51, center = true, convexity = 10)
            polygon(points=[[-4,-2],
                         [4,-2],
                         [0,5]],
                        paths=[[0,1,2]]);
            } 
    }

    translate([0,-7,50-1.5]) {
        cube(size=[3,4,3], center=true );
    }
}

bottom_piece();
</code></pre>

<p><img src="https://raymii.org/s/inc/img/3d/bottom-6.png" alt="image" /></p>

<p>For reference, here is the same code as above with the <code>difference</code> replaced by <code>union</code>:</p>

<p><img src="https://raymii.org/s/inc/img/3d/bottom-7.png" alt="image" /></p>

<h3>Connecting piece</h3>

<p>The connecting piece was the hardest piece to figure out and measure up. It is a cube with a cylinder, plus a hole at the top. It also needs to match the holes the <code>bottom_piece</code> has. Let&#39;s start with the cube and the cylinder hole:</p>

<pre><code>module connecting_block_left_piece() {
    difference(){
        translate([0,0,9]) {            
            cube([10,10,20], true);
        }   
        translate([2,8,8]) {
            rotate([90]) {
                cylinder(20,1.5,1.5);
            }
        }
    }
}
</code></pre>

<p><img src="https://raymii.org/s/inc/img/3d/connect-1.png" alt="image" /></p>

<p>The next thing we are going to add is the circle which will match the <code>left_piece</code>:</p>

<pre><code>module connecting_block_left_piece() {
    translate([0,0,-16]) {
        translate([-3,0,15]) {
            cylinder(h=6,r=6);
        }
    }
    difference(){
        translate([0,0,9]) {            
            cube([10,10,20], true);
        }
        translate([2,8,8]) {
            rotate([90]) {
                cylinder(20,1.5,1.5);
            }
        }
    }
}
</code></pre>

<p><img src="https://raymii.org/s/inc/img/3d/connect-2.png" alt="image" /></p>

<p>Last but not least we need to put the first <code>long_hole_in_upper_key</code> in this block, otherwise it will look ugly:</p>

<pre><code>module connecting_block_left_piece() {
    translate([0,0,-16]) {
        translate([-3,0,15]) {
            cylinder(h=6,r=6);
        }
    }
    difference(){
        translate([0,0,9]) {            
            cube([10,10,20], true);
        }
        translate([-8,3,8]) {
            rotate([90,0,0]) {
                scale([1,1,2]) {
                    long_hole_in_bottom_piece();
                }
            }   
        }
        translate([2,8,8]) {
            rotate([90]) {
                cylinder(20,1.5,1.5);
            }
        }
    }
}
</code></pre>

<p>That&#39;s it. It took me quite a while to get the measurements right, but a ruler is your friend in this case.</p>

<h3>Putting it all together</h3>

<p>We now have made four individual components of the key. We of course want to put them all together so we have a good model. Let&#39;s start first with the upper part of the key, connecting the <code>left_piece</code>, the <code>right_piece</code> and the <code>connecting_block_left_piece</code>.</p>

<pre><code>module full_upper_piece(){
    translate([3,0,-4]) {
        left_piece();
    }
    translate([5,0,32]) {
        connecting_block_left_piece();
    }
    translate([5,0,48]) {
        right_piece();
    }
}
</code></pre>

<p>This looks like so:</p>

<p><img src="https://raymii.org/s/inc/img/3d/upper-full-1.png" alt="image" />  </p>

<p><img src="https://raymii.org/s/inc/img/3d/upper-full-2.png" alt="image" /></p>

<p>Now add the <code>bottom_piece</code> to the <code>full_upper_piece</code>:</p>

<pre><code>module full_key() {
    translate([10,0,40]) {
        rotate([90,180,-90]) {
            bottom_piece();
    }
    full_upper_piece();
}
</code></pre>

<p><img src="https://raymii.org/s/inc/img/3d/full-key-2.png" alt="image" />    </p>

<p>There you have your full key. Render it:</p>

<pre><code>rotate([0,-90,90]) {
    full_key();
}
</code></pre>

<p>And you&#39;re done.</p>

<h3>3D printing</h3>

<p>I&#39;ve let my 3D models print by <a href="https://ridix.nl">Ridix</a> in Rotterdam. They&#39;ve print it on a Dimension SST 1200es with ABS+ material. This (it what they&#39;ve told me) is stronger than regular ABS. The quality and especially sturdiness is very well. I&#39;ve tested the key over 90 times in a panel like above, and it still works. They&#39;re very friendly and fast with printing, mostly overnight, and if you&#39;re early with sending sometimes the same day.</p>
</div><hr>Tags: <a href="../tags/3d.html" class="link">3d, </a><a href="../tags/3d-modeling.html" class="link">3d-modeling, </a><a href="../tags/3d-printer.html" class="link">3d-printer, </a><a href="../tags/cad.html" class="link">cad, </a><a href="../tags/openscad.html" class="link">openscad, </a><div class="footer">
                <hr>
                <p>Generated by <a href="/s/software/ingsoc.html">ingsoc</a> | 
                <a href="/s/software/Sparkling_Network.html">Cluster Status</a> | 
                <a href="/s/static/About.html">About</a><br />
                </div>
            </div>
        </div>
    </div>  
    </div>
    </div>
     
    <!-- Piwik --> 
    <script type="text/javascript">
    var pkBaseURL = (("https:" == document.location.protocol) ? "https://hosted-oswa.org/piwik/" : "http://hosted-oswa.org/piwik/");
    document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
    </script><script type="text/javascript">
    try {
    var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 1);
    piwikTracker.trackPageView();
    piwikTracker.enableLinkTracking();
    } catch( err ) {}
    </script><noscript><p><img src="http://hosted-oswa.org/piwik/piwik.php?idsite=1" style="border:0" alt="" /></p></noscript>
    <!-- End Piwik Tracking Code -->
    </body>
    </html>
    